<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>About - Victorian Cycling Races</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#3b82f6',
                        secondary: '#64748b',
                        'primary-dark': '#2563eb'
                    }
                }
            }
        }
    </script>
</head>
<body>

    <div id="root"></div>

    <script>
        (async function() {
            const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) || window.innerWidth < 768;
            const root = document.getElementById('root');

            function loadCSS(href) {
                const link = document.createElement('link');
                link.rel = 'stylesheet';
                link.href = href;
                document.head.appendChild(link);
            }

            function loadJS(src) {
                return new Promise((resolve, reject) => {
                    const script = document.createElement('script');
                    script.src = src;
                    script.async = false;
                    script.onload = resolve;
                    script.onerror = reject;
                    document.body.appendChild(script);
                });
            }

            async function loadContent(url, targetElement) {
                const response = await fetch(url);
                const text = await response.text();
                const parser = new DOMParser();
                const doc = parser.parseFromString(text, 'text/html');
                targetElement.innerHTML = doc.body.innerHTML;
            }

            if (isMobile) {
                loadCSS('mobile.css');
                await loadContent('mobile_about_page.html', root);
                await loadJS('about-content.js');
                initMobileAboutContent();
                await loadJS('about-stats.js');
                initAboutStats();

            } else {
                loadCSS('styles.css');
                await loadContent('desktop_about.html', root);
                await loadJS('about-content.js');
                initDesktopAboutContent();
                await loadJS('about-stats.js');
                initAboutStats();
            }
        })();
    </script>
    <script data-goatcounter="https://swinkistom.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script>
</body>
</html>
